function alerta(){alert("Teste!")}function BobVoice(e){this.ura="speechSynthesis"in window?new SpeechSynthesisUtterance:0,this.getVoices=speechSynthesis.getVoices(),this.ura.voice=this.getVoices.voice=this.getVoices.filter(function(e){return-1!==e.name.indexOf("Alex")})[0],this.config={lang:e,rate:1,pitch:1}}var btn=document.querySelector("#btnCaptureVoice"),texto=document.querySelector("#textSpoken"),productSection=document.querySelector("#product"),fn={setColorBlue:function(){console.log(conteudo[j]),console.log("tem azul"),document.querySelector("body").style.backgroundColor="#00f"},setFieldFocus:function(){searchField.focus(),searchField.value=transcript,console.log("Debug search: ",conteudo[j]),-1!==transcript.indexOf("cancel")&&(searchField.value=""),-1!==transcript.indexOf("submit")&&alert("Works!")},setEditorVisible:function(){document.querySelector("#editor").classList.toggle("visible")}},conteudo=[],splitText=texto.value.split("");texto.addEventListener("change",function(){console.log(this.value),console.log(this.textContent)},!1),window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;var captVoice;SpeechRecognition?(captVoice=new SpeechRecognition,console.log("CAPTAçÃO DE VOZ",captVoice),captVoice.grammars=new webkitSpeechGrammarList,captVoice.grammars.lang="pt-BR",captVoice.continuous=!0,captVoice.maxAlternatives=5,captVoice.interimResults=!0,captVoice.onstart=function(){},captVoice.onend=function(){},captVoice.onerror=function(e){},captVoice.onresult=function(t){console.log("event ",t);var o=t.srcElement.lang;console.log(o),t.srcElement.lang="pt-BR";var n=e.results[i][0].transcript;e.results[i].isFinal?final_transcript+=" "+n:interim_transcript+=" "+n;for(var i=t.resultIndex;i<t.results.length;i++)if(t.results[i].isFinal);else{{var c=0,s=t.results[i][0].transcript;document.querySelector("#searchterm")}for(texto.textContent=s+" ",conteudo.push(s+" "),c;c<conteudo.length;c+=1)-1!==conteudo[c].indexOf("blue")&&fn.setColorBlue(),-1!==conteudo[c].indexOf("search")&&fn.setFieldFocus(),/essay/gi.test(conteudo[c])&&fn.setEditorVisible(),-1!==conteudo[c].indexOf("product")&&productSection.focus(),-1!==conteudo[c].indexOf("stop listen")&&captVoice.stop()}},btn.addEventListener("click",function(){captVoice.start()})):console.log("Doesn't support voice recognition.");var dictionaryMessages={en:{lang:"en-US",greetings:["Hi!","Welcome!"],whatyouwanttodo:["What you want to do?"]},pt:{lang:"pt-BR",greetings:["Olá!","Seja bem vindo!"],whatyouwanttodo:["O que quer fazer?"]}};BobVoice.prototype.Config=function(){for(var e in this.config)this.ura[e]=this.config[e]},BobVoice.prototype.Speak=function(e){for(var t in e)console.log(e[t]),this.ura.text=e[t],speechSynthesis.speak(this.ura),console.log("bobvoice: ",BobVoice)},BobVoice.prototype.FirstEnd=function(){this.ura.onend=function(e){captVoice.start(),console.log("Finished in "+e.elapsedTime+" seconds.")}},BobVoice.prototype.End=function(){this.ura.onend=function(e){console.log("Finished in "+e.elapsedTime+" seconds.")}},function(){var e=new BobVoice(dictionaryMessages.pt.lang);e.Config(),e.Speak(dictionaryMessages.pt.greetings),e.FirstEnd()}();